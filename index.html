<section id="ranking" class="page">
    <h2>ðŸ“Š Ãœye SÄ±ralamasÄ±</h2>
    
    <div style="background: rgba(243, 156, 18, 0.2); padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 1px dashed #f39c12;">
        <h4 style="margin-bottom: 10px; color: #f39c12;">Yeni Oyuncu Ekle</h4>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <input type="text" id="playerName" placeholder="Oyuncu AdÄ±" style="padding: 10px; border-radius: 5px; border: none; flex: 2;">
            <input type="number" id="playerElo" placeholder="ELO" style="padding: 10px; border-radius: 5px; border: none; flex: 1;">
            <button onclick="addPlayer()" style="padding: 10px 20px; background: #f39c12; border: none; border-radius: 5px; color: black; font-weight: bold; cursor: pointer;">Ekle</button>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Oyuncu</th>
                <th>ELO</th>
                <th>Ä°ÅŸlem</th>
            </tr>
        </thead>
        <tbody id="rankingTableBody">
            </tbody>
    </table>
</section>

<script>
    // Sayfa yÃ¼klendiÄŸinde verileri getir
    document.addEventListener('DOMContentLoaded', () => {
        renderTable();
    });

    // VarsayÄ±lan Oyuncular (EÄŸer liste boÅŸsa)
    let players = JSON.parse(localStorage.getItem('chessPlayers')) || [
        { name: "Ahmet Y.", elo: 2100 },
        { name: "Zeynep K.", elo: 1950 },
        { name: "Mehmet A.", elo: 1820 }
    ];

    function renderTable() {
        const tableBody = document.getElementById('rankingTableBody');
        tableBody.innerHTML = '';

        // ELO'ya gÃ¶re bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe sÄ±rala
        players.sort((a, b) => b.elo - a.elo);

        players.forEach((player, index) => {
            tableBody.innerHTML += `
                <tr>
                    <td>${index + 1}</td>
                    <td>${player.name}</td>
                    <td>${player.elo}</td>
                    <td><button onclick="deletePlayer(${index})" style="background:none; border:none; color:#ff4d4d; cursor:pointer;"><i class="fas fa-trash"></i></button></td>
                </tr>
            `;
        });
        
        // Veriyi kaydet
        localStorage.setItem('chessPlayers', JSON.stringify(players));
    }

    function addPlayer() {
        const nameInput = document.getElementById('playerName');
        const eloInput = document.getElementById('playerElo');

        if (nameInput.value === '' || eloInput.value === '') {
            alert("LÃ¼tfen tÃ¼m alanlarÄ± doldurun!");
            return;
        }

        const newPlayer = {
            name: nameInput.value,
            elo: parseInt(eloInput.value)
        };

        players.push(newPlayer);
        renderTable();

        // Formu temizle
        nameInput.value = '';
        eloInput.value = '';
    }

    function deletePlayer(index) {
        if(confirm("Bu oyuncuyu silmek istediÄŸine emin misin?")) {
            players.splice(index, 1);
            renderTable();
        }
    }

    // Mevcut showPage fonksiyonun (Aynen kalsÄ±n)
    function showPage(pageId) {
        const pages = document.querySelectorAll('.page');
        pages.forEach(page => page.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
    }
</script>
